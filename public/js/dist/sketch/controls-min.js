const chrono=new Chrono;chrono.init(),document.addEventListener("DOMContentLoaded",(function(){const e={visible:!0,setVisible:function(e){this.visible=e,e?(document.querySelectorAll(".controls").forEach((e=>e.style="")),document.body.classList.remove("cursor-none")):(document.querySelectorAll(".controls").forEach((e=>e.style="display: none !important")),document.body.classList.add("cursor-none"))}};document.querySelectorAll(".menu-action.change-view").forEach((e=>{e.classList.toggle("hidden",e.dataset.actionName.includes(document.getElementById("gallery").dataset.mode))})),setActive(document.getElementById("gallery").dataset.active,!0),document.querySelector("#menu .menu-open").addEventListener("click",(function(){toggleMenu()})),document.getElementById("carouselLeft").addEventListener("click",(function(){emitTranslateCarousel(-1)})),document.getElementById("carouselRight").addEventListener("click",(function(){emitTranslateCarousel(1)})),document.addEventListener("keydown",(function(t){switch((t=t||window.event).key){case"ArrowRight":e.setVisible(!1),emitTranslateCarousel(1);break;case"ArrowLeft":e.setVisible(!1),emitTranslateCarousel(-1);break;case"ArrowUp":case"ArrowDown":break;case"g":emitSwitchDisposition("grid");break;case"c":emitSwitchDisposition("carousel")}})),document.querySelector(".menu-share").addEventListener("click",(function(){document.querySelector("#sharePopup").classList.add("open")})),document.querySelector(".menu-add").addEventListener("click",(function(){emitCreateImage()})),document.querySelector(".menu-view-grid").addEventListener("click",(function(){emitSwitchDisposition("grid")})),document.querySelector(".menu-view-carousel").addEventListener("click",(function(){emitSwitchDisposition("carousel")})),document.querySelector(".menu-delete").addEventListener("click",(function(){emitCloseSketch()})),document.querySelector(".menu-fullscreen").addEventListener("click",(function(e){document.querySelector("main").requestFullscreen(),this.classList.add("hidden"),document.querySelector(".menu-exit-fullscreen").classList.remove("hidden")})),document.querySelector(".menu-exit-fullscreen").addEventListener("click",(function(e){document.querySelector(".menu-fullscreen").classList.remove("hidden"),this.classList.add("hidden"),document.exitFullscreen()})),document.addEventListener("contextmenu",(function(t){t.preventDefault(),e.setVisible(!e.visible)})),registerEventsForAllImage(),document.addEventListener("mousemove",(function(t){e.visible||e.setVisible(!0)})),window.addEventListener("resize",(function(){translateCarousel(0)})),document.getElementById("gallery").addEventListener("scroll",(function(t){e.visible&&(e.setVisible(!1),chrono.in((function(){e.setVisible(!0)}),5,"displayMenu"))}))}));